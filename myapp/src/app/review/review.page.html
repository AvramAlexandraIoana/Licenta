<ion-header  class="ion-no-border">
  <ion-toolbar>
    <ion-icon (click)="dismiss()" style="font-weight: bolder; font-size: 28px; margin-left: 4%;" name="close-outline"></ion-icon>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item>
    <img  class="image" src="assets\imgs\b11e88a064ab23687213c69965a6790b.jpg">
  </ion-item>
  <ion-card class="card-container">
    <ion-card-header>
      <ion-card-title *ngIf="language == 'engleza'">Send us your feedback!</ion-card-title>
      <ion-card-subtitle *ngIf="language == 'engleza'">Do you have a suggestion or found some bug? 
            <br>
            let us know in the field below
      </ion-card-subtitle>
      <ion-card-title *ngIf="language == 'romana'">Trimiteți-ne feedback-ul dvs!</ion-card-title>
      <ion-card-subtitle *ngIf="language == 'romana'">
        Aveți o sugestie sau ați găsit o eroare? 
            <br>
        spuneți-ne în câmpulurile de mai jos
      </ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <form [formGroup]="reviewForm">
        <ion-list>
          <ion-item lines="none">
            <ion-label *ngIf="language == 'engleza'">
              How was your experiance?
            </ion-label>
            <ion-label *ngIf="language == 'romana'">
              Cum a fost experiența ta?
            </ion-label>
          </ion-item>
          <ion-row >
            <ion-col size="2" (click)="changeImage(1)">
                <img  *ngIf="!isFirstPressed" src="assets\imgs\disappointed face-20s-36px (1).svg">
                <img  *ngIf="isFirstPressed" src="assets\imgs\disappointed face-20s-36px (2).svg">
            </ion-col>
            <ion-col size="2" (click)="changeImage(2)">
              <img  *ngIf="!isSecondPressed" src="assets\imgs\poker face-20s-36px (1).svg">
              <img  *ngIf="isSecondPressed" src="assets\imgs\poker face-20s-36px (2).svg">
            </ion-col>
            <ion-col size="2" (click)="changeImage(3)">
              <img  *ngIf="!isThirdPressed" src="assets\imgs\smile face-20s-36px.svg">
              <img  *ngIf="isThirdPressed" src="assets\imgs\smile face-20s-36px (1).svg">

            </ion-col>
            <ion-col size="2" (click)="changeImage(4)">
              <img   *ngIf="!isFourPressed" src="assets\imgs\love face-20s-36px (4).svg">
              <img   *ngIf="isFourPressed" src="assets\imgs\love face-20s-36px (3).svg">
            </ion-col>
          </ion-row>
        
          <ion-item>
            <ion-label position="floating" style="font-size: 18px !important;"> {{language == 'engleza' ? 'Describe your experiance here..' : '
              Descrieți experiența dumnevoastră aici'}}</ion-label>
            <ion-textarea formControlName="feedbackR" rows="4" cols="15" [placeholder]="language == 'engleza' ? 'Describe your experiance here..' : 'Descrieți experiența dumnevoastră aici..'"></ion-textarea>
          </ion-item>   
          <div class="error-messages">
            <ng-container *ngFor="let error of errorMessages.feedbackR">
              <div class="error-message"
                *ngIf="reviewForm.get('feedbackR').hasError(error.type) && (reviewForm.get('feedbackR').dirty || reviewForm.get('feedbackR').touched)">
                {{error.message}}
              </div>
            </ng-container>
          </div>

          <ion-row class="types">
            <ion-radio-group formControlName="type">
              <div class="rad-item" text-center>
                <ion-item text-center lines="none">
                  <ion-radio value="Bug"></ion-radio>
                  <p *ngIf="language == 'engleza'">Bug</p>
                  <p *ngIf="language == 'romana'">Eroare</p>
                </ion-item>
              </div>
              <div class="rad-item" text-center>
                <ion-item text-center lines="none">
                  <ion-radio value="Suggestion"></ion-radio>
                  <p *ngIf="language == 'engleza'">Suggestion</p>
                  <p *ngIf="language == 'romana'">Sugestie</p>
                </ion-item>
              </div>
              <div class="rad-item" text-center>
                <ion-item text-center lines="none">
                  <ion-radio value="Others"></ion-radio>
                  <p *ngIf="language == 'engleza'">Others</p>
                  <p *ngIf="language == 'romana'">Altele</p>
                </ion-item>
              </div>
            </ion-radio-group>
          </ion-row>

          <div class="error-messages">
            <ng-container *ngFor="let error of errorMessages.type">
              <div class="error-message"
                *ngIf="reviewForm.get('type').hasError(error.type) && (reviewForm.get('type').dirty || reviewForm.get('type').touched)">
                {{error.message}}
              </div>
            </ng-container>
          </div>
        </ion-list>
      </form>
    </ion-card-content>
  </ion-card>

  <div>
    <ion-button [disabled]="reviewForm.invalid || (!isFirstPressed  && !isSecondPressed && !isThirdPressed && !isFourPressed)" (click)="sendReview()"  expand="block" shape="round" class="sendButton" >{{language == 'engleza' ? 'Send Feedback' : 'Trimite feedback'}}</ion-button>
  </div>

</ion-content>
